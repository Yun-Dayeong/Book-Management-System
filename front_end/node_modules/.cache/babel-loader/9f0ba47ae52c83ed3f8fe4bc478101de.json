{"ast":null,"code":"import axios from 'axios';\nexport default class APIManager {\n  constructor() {\n    this.get = callback => {\n      axios.get(this._url, {\n        params: this._params\n      }).then(response => {\n        if (callback) {\n          callback(response.data);\n        }\n\n        this.init();\n      }).catch(function (error) {\n        console.log(\"axios get error : \" + error);\n      });\n    };\n\n    this.post = (callback = null) => {\n      var config = {\n        method: 'post',\n        url: this._url,\n        data: this._data\n      };\n      axios(config).then(response => {\n        if (callback) {\n          callback(response.data);\n        }\n\n        this.init();\n      }).catch(function (error) {\n        console.log(\"axios post error : \" + error);\n      });\n    };\n\n    this.init = () => {\n      this._url = \"\";\n      this._params = {};\n      this._data = {};\n    };\n\n    if (APIManager.instance) {\n      return APIManager.instance;\n    }\n\n    this._url = \"\";\n    this._params = {};\n    this._data = {};\n    APIManager.instance = this;\n  } //get 함수\n\n\n  get url() {\n    return this._url;\n  }\n\n  get params() {\n    return this._params;\n  }\n\n  get data() {\n    return this._data;\n  } //set 함수\n\n\n  set url(url) {\n    this._url = url;\n  }\n\n  set params(params) {\n    this._params = params;\n  }\n\n  set data(data) {\n    this._data = data;\n  }\n\n}","map":{"version":3,"sources":["C:/Users/WIN/Desktop/개인프로젝트/React와 Node를 이용한 도서관리 시스템 개발/project/front_end/src/APIManagers.js"],"names":["axios","APIManager","constructor","get","callback","_url","params","_params","then","response","data","init","catch","error","console","log","post","config","method","url","_data","instance"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,eAAe,MAAMC,UAAN,CAAiB;AAG5BC,EAAAA,WAAW,GAAG;AAAA,SAoBdC,GApBc,GAoBPC,QAAD,IAAc;AAChBJ,MAAAA,KAAK,CAACG,GAAN,CAAU,KAAKE,IAAf,EAAqB;AAAEC,QAAAA,MAAM,EAAE,KAAKC;AAAf,OAArB,EACKC,IADL,CACWC,QAAD,IAAc;AAChB,YAAIL,QAAJ,EAAc;AAAEA,UAAAA,QAAQ,CAACK,QAAQ,CAACC,IAAV,CAAR;AAAyB;;AACzC,aAAKC,IAAL;AACH,OAJL,EAKKC,KALL,CAKW,UAAUC,KAAV,EAAiB;AACpBC,QAAAA,OAAO,CAACC,GAAR,CAAY,uBAAuBF,KAAnC;AACH,OAPL;AAQH,KA7Ba;;AAAA,SA+BdG,IA/Bc,GA+BP,CAACZ,QAAQ,GAAG,IAAZ,KAAqB;AACxB,UAAIa,MAAM,GAAG;AACTC,QAAAA,MAAM,EAAE,MADC;AAETC,QAAAA,GAAG,EAAE,KAAKd,IAFD;AAGTK,QAAAA,IAAI,EAAE,KAAKU;AAHF,OAAb;AAMApB,MAAAA,KAAK,CAACiB,MAAD,CAAL,CACKT,IADL,CACUC,QAAQ,IAAI;AACd,YAAIL,QAAJ,EAAc;AAAEA,UAAAA,QAAQ,CAACK,QAAQ,CAACC,IAAV,CAAR;AAAyB;;AACzC,aAAKC,IAAL;AACH,OAJL,EAKKC,KALL,CAKW,UAAUC,KAAV,EAAiB;AACpBC,QAAAA,OAAO,CAACC,GAAR,CAAY,wBAAwBF,KAApC;AACH,OAPL;AAQH,KA9Ca;;AAAA,SAgDdF,IAhDc,GAgDP,MAAM;AACT,WAAKN,IAAL,GAAY,EAAZ;AACA,WAAKE,OAAL,GAAe,EAAf;AACA,WAAKa,KAAL,GAAa,EAAb;AACH,KApDa;;AACV,QAAInB,UAAU,CAACoB,QAAf,EAAyB;AAAE,aAAOpB,UAAU,CAACoB,QAAlB;AAA4B;;AAEvD,SAAKhB,IAAL,GAAY,EAAZ;AACA,SAAKE,OAAL,GAAe,EAAf;AACA,SAAKa,KAAL,GAAa,EAAb;AAEAnB,IAAAA,UAAU,CAACoB,QAAX,GAAsB,IAAtB;AACH,GAX2B,CAa5B;;;AACA,MAAIF,GAAJ,GAAU;AAAE,WAAO,KAAKd,IAAZ;AAAmB;;AAC/B,MAAIC,MAAJ,GAAa;AAAE,WAAO,KAAKC,OAAZ;AAAsB;;AACrC,MAAIG,IAAJ,GAAW;AAAE,WAAO,KAAKU,KAAZ;AAAoB,GAhBL,CAkB5B;;;AACA,MAAID,GAAJ,CAAQA,GAAR,EAAa;AAAE,SAAKd,IAAL,GAAYc,GAAZ;AAAkB;;AACjC,MAAIb,MAAJ,CAAWA,MAAX,EAAmB;AAAE,SAAKC,OAAL,GAAeD,MAAf;AAAwB;;AAC7C,MAAII,IAAJ,CAASA,IAAT,EAAe;AAAE,SAAKU,KAAL,GAAaV,IAAb;AAAoB;;AArBT","sourcesContent":["import axios from 'axios';\r\n\r\nexport default class APIManager {\r\n    static instance;\r\n\r\n    constructor() {\r\n        if (APIManager.instance) { return APIManager.instance }\r\n\r\n        this._url = \"\"\r\n        this._params = {}\r\n        this._data = {}\r\n\r\n        APIManager.instance = this\r\n    }\r\n\r\n    //get 함수\r\n    get url() { return this._url; }\r\n    get params() { return this._params; }\r\n    get data() { return this._data; }\r\n\r\n    //set 함수\r\n    set url(url) { this._url = url; }\r\n    set params(params) { this._params = params; }\r\n    set data(data) { this._data = data; }\r\n\r\n    get = (callback) => {\r\n        axios.get(this._url, { params: this._params })\r\n            .then((response) => {\r\n                if (callback) { callback(response.data) }\r\n                this.init()\r\n            })\r\n            .catch(function (error) {\r\n                console.log(\"axios get error : \" + error);\r\n            });\r\n    }\r\n\r\n    post = (callback = null) => {\r\n        var config = {\r\n            method: 'post',\r\n            url: this._url,\r\n            data: this._data\r\n        }\r\n\r\n        axios(config)\r\n            .then(response => {\r\n                if (callback) { callback(response.data) }\r\n                this.init()\r\n            })\r\n            .catch(function (error) {\r\n                console.log(\"axios post error : \" + error);\r\n            });\r\n    }\r\n\r\n    init = () => {\r\n        this._url = \"\"\r\n        this._params = {}\r\n        this._data = {}\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}